{"ast":null,"code":"import axios from \"axios\";\nimport { ADD_TODO, SHOW, ADD_TODO_SLAVE, STEP_COMPLETED, COMPLETED, STEP_UNDO, POST_TASK } from \"../actionTypes\";\nconst initialState = {};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_TODO:\n      {\n        const {\n          task,\n          date\n        } = action.payload;\n        return { ...state,\n          [task]: { ...action.payload,\n            task: task,\n            date: date\n          }\n        };\n      }\n\n    case ADD_TODO_SLAVE:\n      {\n        const {\n          task,\n          steps,\n          date\n        } = action.payload;\n        return { ...state,\n          [task]: { ...action.payload,\n            task: task,\n            date: date,\n            steps: steps\n          }\n        };\n      }\n\n    case SHOW:\n      {\n        const {\n          task,\n          show\n        } = action.payload;\n        return { ...state,\n          [task]: { ...action.payload,\n            show: !show\n          }\n        };\n      }\n\n    case STEP_COMPLETED:\n      {\n        const {\n          task,\n          steps\n        } = action.payload;\n        const completed = action.newCompleted;\n        const {\n          step\n        } = action.stepFinder;\n        return { ...state,\n          [task]: { ...action.payload,\n            completed: completed,\n            steps: { ...steps,\n              [step]: { ...action.stepFinder,\n                completed: 1\n              }\n            }\n          }\n        };\n      }\n\n    case STEP_UNDO:\n      {\n        const {\n          task,\n          steps\n        } = action.payload;\n        const completed = action.newCompleted;\n        const {\n          step\n        } = action.stepFinder;\n        console.log(\"insde reducer completed\", completed);\n        return { ...state,\n          [task]: { ...action.payload,\n            completed: completed,\n            steps: { ...steps,\n              [step]: { ...action.stepFinder,\n                completed: 0\n              }\n            }\n          }\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport const postTask = () => (dispatch, getState) => {\n  const tasks = getState();\n  console.log(\"thunk to post\", tasks);\n  axios.post(\"http://localhost:8080/api/\", tasks.JSON()).then(res => {\n    console.log(\"res\", res);\n    console.log(\"resdata\", res.data);\n  });\n};\nexport default reducer;","map":{"version":3,"sources":["/Users/cait02/Desktop/Begin/React/todo-list/src/redux/reducers/todoReducer.js"],"names":["axios","ADD_TODO","SHOW","ADD_TODO_SLAVE","STEP_COMPLETED","COMPLETED","STEP_UNDO","POST_TASK","initialState","reducer","state","action","type","task","date","payload","steps","show","completed","newCompleted","step","stepFinder","console","log","postTask","dispatch","getState","tasks","post","JSON","then","res","data"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { ADD_TODO, SHOW, ADD_TODO_SLAVE, STEP_COMPLETED, COMPLETED, STEP_UNDO, POST_TASK } from \"../actionTypes\"\n\nconst initialState = {\n\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_TODO: {\n            const { task, date } = action.payload;\n            return {\n\n                ...state,\n                [task]: {\n                    ...action.payload,\n                    task: task,\n                    date: date\n                }\n            }\n        }\n\n        case ADD_TODO_SLAVE: {\n            const { task, steps, date } = action.payload;\n            return {\n                ...state,\n                [task]: {\n                    ...action.payload,\n                    task: task,\n                    date: date,\n                    steps: steps\n                }\n            }\n        }\n\n        case SHOW: {\n            const { task, show } = action.payload\n            return {\n                ...state,\n                [task]: {\n                    ...action.payload,\n                    show: !show\n                }\n\n            }\n        }\n\n        case STEP_COMPLETED: {\n            const { task, steps } = action.payload\n            const completed = action.newCompleted\n            const { step } = action.stepFinder\n            return {\n                ...state,\n                [task]: {\n                    ...action.payload,\n                    completed: completed,\n                    steps: {\n                        ...steps, [step]: { ...action.stepFinder, completed: 1 },\n                    }\n                }\n            }\n        }\n\n        case STEP_UNDO: {\n            const { task, steps } = action.payload\n            const completed = action.newCompleted\n            const { step } = action.stepFinder\n            console.log(\"insde reducer completed\", completed)\n            return {\n                ...state,\n                [task]: {\n                    ...action.payload,\n                    completed: completed,\n                    steps: { ...steps, [step]: { ...action.stepFinder, completed: 0 } }\n                }\n            }\n        }\n\n\n        default: return state\n    }\n\n}\n\nexport const postTask = () => (dispatch, getState) => {\n    const tasks = getState()\n    console.log(\"thunk to post\", tasks)\n    axios.post(\"http://localhost:8080/api/\", tasks.JSON())\n        .then(res => {\n            console.log(\"res\", res)\n            console.log(\"resdata\", res.data)\n        })\n\n}\n\nexport default reducer"]},"metadata":{},"sourceType":"module"}